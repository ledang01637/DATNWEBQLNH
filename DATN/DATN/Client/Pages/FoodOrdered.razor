@page "/food-ordered"
@layout MainLayout
@using DATN.Client.Service
@inject HttpClient httpClient
@inject NavigationManager Navigation
@inject LocalStorageService _localStorageService
@inject CartService _cartService
@inject IJSRuntime JS



<section class="iphone-13-mini-2-inner">
    <div class="frame-parent">
        <div class="frame-wrapper">
            <div class="frame-group">
                <div class="frame-container">
                    <div class="frame-div">
                        <a class="nav-link" href="/order-list">
                            <i class="fas fa-arrow-left fs-2"></i>
                        </a>
                    </div>
                    <h1 class="foodgo">Foodgo</h1>
                    <div class="ellipse4-31-iphone13mini-1-wrapper">
                        <img class="ellipse4-31-iphone13mini-1-icon" loading="lazy" alt="" src="/images/hinhanh/hambuger.png" />
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>

<div class="container mt-4">
    <h4 style="text-align: center;">Danh sách đã gọi</h4>
    @if (carts == null)
    {
        <div class="d-flex justify-content-center">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    }
    else if (!carts.Any())
    {
        <div class="card my-3 p-3 text-center">
            <span class="text-center">Không có món ăn</span>
        </div>
    }
    else
    {
        @foreach (var item in carts)
        {

            <div class="card my-3 p-3">
                <div class="d-flex justify-content-between">
                    <div class="d-flex">
                        <div class="rounded"
                             style="width: 100px; height: 70px; background-image: url(data:image/png;base64,@Convert.ToBase64String(item.ProductImage)); background-size: cover;">
                        </div>
                        <div class="ms-3">
                            <p class="mb-0 fw-blod">@item.ProductName</p>
                            <p class="mb-0 text-secondary text-danger">@item.Price.ToString("###,0##") VND</p>
                            <p class="mb-0 text-secondary">Số lượng: @item.Quantity </p>
                        </div>
                    </div>
@*                     <div class="rounded-circle bg-light d-flex justify-content-center align-items-center" style="width: 30px; height: 30px;">
                        <img src="/images/vectors/icons8-tick-30.png" alt="Tick" style="width: 20px; height: 14.7px;" />
                    </div> *@
                </div>
            </div>
        }
    }
    <div class="total-section" style="display: @(!carts.Any() ? "none" : "")">
        <div class="d-flex justify-content-between">
            <p class="mb-0">Tổng tiền</p>
            <p class="mb-0"><strong>@order.TotalAmount.ToString("N0") VND</strong></p>
        </div>
@*         @{
            foreach (var cv in customerVouchers)
            {
                <label>Chọn voucher: @cv.VoucherId</label>
                <a @onclick="() => UseVoucher(cv.VoucherId)">Mã số voucher là @cv.VoucherId</a>
            }
        } *@
        <button @onclick="Payment" type="button" class="btn btn-warning w-100 mt-2">
            Thanh toán
        </button>
    </div>
</div>
<nav class="navbar fixed-bottom navbar-light bg-light">
    <div class="container-fluid justify-content-around">
        <a href="/" class="nav-link"><i class="bi bi-house"></i></a>
        <a href="/order-list" class="nav-link"><i class="bi bi-card-list"></i></a>
        <a href="/food-ordered" class="nav-link"><i class="bi bi-bookmark" style="color: orange"></i></a>
        <a href="/userinfo" class="nav-link"><i class="bi bi-person"></i></a>
    </div>
</nav>



